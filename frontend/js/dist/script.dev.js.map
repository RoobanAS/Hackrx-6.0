{"version":3,"sources":["script.js"],"names":["DocumentQA","form","document","getElementById","fileInput","fileUploadArea","browseBtn","fileInfo","fileName","removeFileBtn","resultsContainer","answersList","errorContainer","errorMessage","submitBtn","btnText","querySelector","btnLoading","selectedFile","backendUrl","initEventListeners","addEventListener","e","handleSubmit","click","handleFileSelect","removeFile","handleDragOver","handleDragLeave","handleDrop","preventDefault","classList","add","remove","files","dataTransfer","length","processFile","target","file","type","displayError","maxSize","size","displayFileInfo","hideError","fileSize","formatFileSize","innerHTML","name","style","display","bytes","k","sizes","i","Math","floor","log","parseFloat","pow","toFixed","value","questions","validateInputs","showLoading","hideResults","callBackendAPI","response","displayResults","console","error","message","hideLoading","questionList","split","map","q","trim","filter","formData","FormData","append","JSON","stringify","fetch","method","body","ok","text","errorText","Error","status","json","data","errors","push","join","disabled","answers","title","forEach","item","index","answerElement","createAnswerElement","appendChild","showResults","div","createElement","className","question","answer","escapeHtml","formatAnswer","replace","unsafe","scrollIntoView","behavior","sampleQuestions"],"mappings":"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","sourcesContent":["class DocumentQA {\r\n    constructor() {\r\n        this.form = document.getElementById('qaForm');\r\n        this.fileInput = document.getElementById('documentFile');\r\n        this.fileUploadArea = document.getElementById('fileUploadArea');\r\n        this.browseBtn = document.getElementById('browseBtn');\r\n        this.fileInfo = document.getElementById('fileInfo');\r\n        this.fileName = document.getElementById('fileName');\r\n        this.removeFileBtn = document.getElementById('removeFile');\r\n        this.resultsContainer = document.getElementById('results');\r\n        this.answersList = document.getElementById('answersList');\r\n        this.errorContainer = document.getElementById('error');\r\n        this.errorMessage = document.getElementById('errorMessage');\r\n        this.submitBtn = document.getElementById('submitBtn');\r\n        this.btnText = this.submitBtn.querySelector('.btn-text');\r\n        this.btnLoading = this.submitBtn.querySelector('.btn-loading');\r\n        \r\n        this.selectedFile = null;\r\n        this.backendUrl = 'http://localhost:10000'; // Fixed backend URL\r\n        \r\n        this.initEventListeners();\r\n    }\r\n    \r\n    initEventListeners() {\r\n        // Form submission\r\n        this.form.addEventListener('submit', (e) => this.handleSubmit(e));\r\n        \r\n        // File upload events\r\n        this.browseBtn.addEventListener('click', () => this.fileInput.click());\r\n        this.fileInput.addEventListener('change', (e) => this.handleFileSelect(e));\r\n        this.removeFileBtn.addEventListener('click', () => this.removeFile());\r\n        \r\n        // Drag and drop events\r\n        this.fileUploadArea.addEventListener('dragover', (e) => this.handleDragOver(e));\r\n        this.fileUploadArea.addEventListener('dragleave', (e) => this.handleDragLeave(e));\r\n        this.fileUploadArea.addEventListener('drop', (e) => this.handleDrop(e));\r\n    }\r\n    \r\n    handleDragOver(e) {\r\n        e.preventDefault();\r\n        this.fileUploadArea.classList.add('drag-over');\r\n    }\r\n    \r\n    handleDragLeave(e) {\r\n        e.preventDefault();\r\n        this.fileUploadArea.classList.remove('drag-over');\r\n    }\r\n    \r\n    handleDrop(e) {\r\n        e.preventDefault();\r\n        this.fileUploadArea.classList.remove('drag-over');\r\n        \r\n        const files = e.dataTransfer.files;\r\n        if (files.length > 0) {\r\n            this.processFile(files[0]);\r\n        }\r\n    }\r\n    \r\n    handleFileSelect(e) {\r\n        const files = e.target.files;\r\n        if (files.length > 0) {\r\n            this.processFile(files[0]);\r\n        }\r\n    }\r\n    \r\n    processFile(file) {\r\n        // Validate file type\r\n        if (file.type !== 'application/pdf') {\r\n            this.displayError('Please select a PDF file');\r\n            return;\r\n        }\r\n        \r\n        // Validate file size (10MB limit)\r\n        const maxSize = 10 * 1024 * 1024; // 10MB in bytes\r\n        if (file.size > maxSize) {\r\n            this.displayError('File size must be less than 10MB');\r\n            return;\r\n        }\r\n        \r\n        this.selectedFile = file;\r\n        this.displayFileInfo(file);\r\n        this.hideError();\r\n    }\r\n    \r\n    displayFileInfo(file) {\r\n        const fileSize = this.formatFileSize(file.size);\r\n        this.fileName.innerHTML = `${file.name} <span class=\"file-size\">(${fileSize})</span>`;\r\n        this.fileInfo.style.display = 'flex';\r\n    }\r\n    \r\n    formatFileSize(bytes) {\r\n        if (bytes === 0) return '0 Bytes';\r\n        const k = 1024;\r\n        const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n        const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n        return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n    }\r\n    \r\n    removeFile() {\r\n        this.selectedFile = null;\r\n        this.fileInput.value = '';\r\n        this.fileInfo.style.display = 'none';\r\n    }\r\n    \r\n    async handleSubmit(e) {\r\n        e.preventDefault();\r\n        \r\n        const questions = document.getElementById('questions').value;\r\n        \r\n        // Validate inputs\r\n        if (!this.validateInputs(questions)) {\r\n            return;\r\n        }\r\n        \r\n        this.showLoading();\r\n        this.hideResults();\r\n        this.hideError();\r\n        \r\n        try {\r\n            const response = await this.callBackendAPI(questions);\r\n            this.displayResults(response);\r\n            \r\n        } catch (error) {\r\n            console.error('Error:', error);\r\n            this.displayError(error.message);\r\n        } finally {\r\n            this.hideLoading();\r\n        }\r\n    }\r\n    \r\n    async callBackendAPI(questions) {\r\n        const questionList = questions.split('\\n')\r\n            .map(q => q.trim())\r\n            .filter(q => q.length > 0);\r\n        \r\n        // Create FormData for file upload\r\n        const formData = new FormData();\r\n        formData.append('file', this.selectedFile);\r\n        formData.append('questions', JSON.stringify(questionList));\r\n        \r\n        const response = await fetch(`${this.backendUrl}/api/v1/hackrx/upload`, {\r\n            method: 'POST',\r\n            body: formData\r\n        });\r\n        \r\n        if (!response.ok) {\r\n            const errorText = await response.text();\r\n            throw new Error(`Server error (${response.status}): ${errorText}`);\r\n        }\r\n        \r\n        const data = await response.json();\r\n        \r\n        if (data.error) {\r\n            throw new Error(data.error);\r\n        }\r\n        \r\n        return data;\r\n    }\r\n    \r\n    validateInputs(questions) {\r\n        // Clear previous errors\r\n        this.hideError();\r\n        \r\n        const errors = [];\r\n        \r\n        if (!this.selectedFile) {\r\n            errors.push('Please select a PDF file');\r\n        }\r\n        \r\n        if (!questions) {\r\n            errors.push('Please enter at least one question');\r\n        }\r\n        \r\n        if (errors.length > 0) {\r\n            this.displayError(errors.join('<br>'));\r\n            return false;\r\n        }\r\n        \r\n        return true;\r\n    }\r\n    \r\n    showLoading() {\r\n        this.submitBtn.disabled = true;\r\n        this.btnText.style.display = 'none';\r\n        this.btnLoading.style.display = 'inline-block';\r\n    }\r\n    \r\n    hideLoading() {\r\n        this.submitBtn.disabled = false;\r\n        this.btnText.style.display = 'inline-block';\r\n        this.btnLoading.style.display = 'none';\r\n    }\r\n    \r\n    displayResults(data) {\r\n        this.answersList.innerHTML = '';\r\n        \r\n        if (data.answers && data.answers.length > 0) {\r\n            // Add answer count to title\r\n            const title = this.resultsContainer.querySelector('h2');\r\n            title.innerHTML = `ðŸ“‹ Answers <span class=\"answer-count\">${data.answers.length} results</span>`;\r\n            \r\n            data.answers.forEach((item, index) => {\r\n                const answerElement = this.createAnswerElement(item, index);\r\n                this.answersList.appendChild(answerElement);\r\n            });\r\n            \r\n            this.showResults();\r\n        } else {\r\n            this.displayError('No answers received from the server');\r\n        }\r\n    }\r\n    \r\n    createAnswerElement(item, index) {\r\n        const div = document.createElement('div');\r\n        div.className = 'answer-item';\r\n        \r\n        const question = item.question || `Question ${index + 1}`;\r\n        const answer = item.answer || 'No answer provided';\r\n        \r\n        div.innerHTML = `\r\n            <h3>${this.escapeHtml(question)}</h3>\r\n            <p>${this.formatAnswer(answer)}</p>\r\n        `;\r\n        \r\n        return div;\r\n    }\r\n    \r\n    formatAnswer(answer) {\r\n        // Convert line breaks and preserve formatting\r\n        return this.escapeHtml(answer).replace(/\\n/g, '<br>');\r\n    }\r\n    \r\n    escapeHtml(unsafe) {\r\n        return unsafe\r\n            .replace(/&/g, \"&amp;\")\r\n            .replace(/</g, \"&lt;\")\r\n            .replace(/>/g, \"&gt;\")\r\n            .replace(/\"/g, \"&quot;\")\r\n            .replace(/'/g, \"&#039;\");\r\n    }\r\n    \r\n    showResults() {\r\n        this.resultsContainer.style.display = 'block';\r\n        this.resultsContainer.scrollIntoView({ behavior: 'smooth' });\r\n    }\r\n    \r\n    hideResults() {\r\n        this.resultsContainer.style.display = 'none';\r\n    }\r\n    \r\n    displayError(message) {\r\n        this.errorMessage.innerHTML = message;\r\n        this.errorContainer.style.display = 'block';\r\n        this.errorContainer.scrollIntoView({ behavior: 'smooth' });\r\n    }\r\n    \r\n    hideError() {\r\n        this.errorContainer.style.display = 'none';\r\n    }\r\n}\r\n\r\n// Initialize the application when DOM is loaded\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    new DocumentQA();\r\n    \r\n    // Add some sample data for testing\r\n    const sampleQuestions = document.getElementById('questions');\r\n    if (!sampleQuestions.value) {\r\n        sampleQuestions.value = `What is the main purpose of this document?\r\nWhat are the key terms and conditions?\r\nHow does the process work?\r\nWhat are the important clauses?`;\r\n    }\r\n});"],"file":"script.dev.js"}